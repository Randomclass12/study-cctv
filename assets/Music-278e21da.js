import{M as z}from"./Music-edd8bbeb.js";import{_ as G,s as K,D as Z,a as j,o as v,c as w,d as y,w as N,F as ee,k as te,j as g,l as V,A as ne,G as M,r as L,q as A,B as re,i as ae,b as S,f as R,p as ie,g as oe}from"./index-d9871d9d.js";import{L as se}from"./LianLianKan-83e715fd.js";const ce={class:"music-header"},le={__name:"MusicHender",setup(e){const t=z(),{musicName:n,musicList:o}=K(t);return Z(),(c,u)=>{const d=j("el-option"),r=j("el-select");return v(),w("div",ce,[y(r,{modelValue:g(n),"onUpdate:modelValue":u[0]||(u[0]=a=>ne(n)?n.value=a:null),class:"m-2",placeholder:"Select",size:"large"},{default:N(()=>[(v(!0),w(ee,null,te(g(o),a=>(v(),V(d,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])}}},ue=G(le,[["__scopeId","data-v-8f28f545"]]);function de(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var F=de,fe=typeof M=="object"&&M&&M.Object===Object&&M,_e=fe,me=_e,ve=typeof self=="object"&&self&&self.Object===Object&&self,pe=me||ve||Function("return this")(),J=pe,be=J,ge=function(){return be.Date.now()},ye=ge,Te=/\s/;function he(e){for(var t=e.length;t--&&Te.test(e.charAt(t)););return t}var xe=he,$e=xe,je=/^\s+/;function Se(e){return e&&e.slice(0,$e(e)+1).replace(je,"")}var Oe=Se,Ie=J,ke=Ie.Symbol,Q=ke,P=Q,Y=Object.prototype,Me=Y.hasOwnProperty,Ne=Y.toString,$=P?P.toStringTag:void 0;function we(e){var t=Me.call(e,$),n=e[$];try{e[$]=void 0;var o=!0}catch{}var c=Ne.call(e);return o&&(t?e[$]=n:delete e[$]),c}var Ee=we,Ce=Object.prototype,Le=Ce.toString;function Re(e){return Le.call(e)}var Be=Re,U=Q,Ve=Ee,Ge=Be,Fe="[object Null]",We="[object Undefined]",D=U?U.toStringTag:void 0;function Ae(e){return e==null?e===void 0?We:Fe:D&&D in Object(e)?Ve(e):Ge(e)}var Pe=Ae;function Ue(e){return e!=null&&typeof e=="object"}var De=Ue,He=Pe,Xe=De,qe="[object Symbol]";function ze(e){return typeof e=="symbol"||Xe(e)&&He(e)==qe}var Ke=ze,Je=Oe,H=F,Qe=Ke,X=0/0,Ye=/^[-+]0x[0-9a-f]+$/i,Ze=/^0b[01]+$/i,et=/^0o[0-7]+$/i,tt=parseInt;function nt(e){if(typeof e=="number")return e;if(Qe(e))return X;if(H(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=H(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Je(e);var n=Ze.test(e);return n||et.test(e)?tt(e.slice(2),n?2:8):Ye.test(e)?X:+e}var rt=nt,at=F,B=ye,q=rt,it="Expected a function",ot=Math.max,st=Math.min;function ct(e,t,n){var o,c,u,d,r,a,f=0,O=!1,_=!1,p=!0;if(typeof e!="function")throw new TypeError(it);t=q(t)||0,at(n)&&(O=!!n.leading,_="maxWait"in n,u=_?ot(q(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p);function b(i){var m=o,x=c;return o=c=void 0,f=i,d=e.apply(x,m),d}function I(i){return f=i,r=setTimeout(l,t),O?b(i):d}function E(i){var m=i-a,x=i-f,W=t-m;return _?st(W,u-x):W}function s(i){var m=i-a,x=i-f;return a===void 0||m>=t||m<0||_&&x>=u}function l(){var i=B();if(s(i))return k(i);r=setTimeout(l,E(i))}function k(i){return r=void 0,p&&o?b(i):(o=c=void 0,d)}function T(){r!==void 0&&clearTimeout(r),f=0,o=a=c=r=void 0}function h(){return r===void 0?d:k(B())}function C(){var i=B(),m=s(i);if(o=arguments,c=this,a=i,m){if(r===void 0)return I(a);if(_)return clearTimeout(r),r=setTimeout(l,t),b(a)}return r===void 0&&(r=setTimeout(l,t)),d}return C.cancel=T,C.flush=h,C}var lt=ct,ut=lt,dt=F,ft="Expected a function";function _t(e,t,n){var o=!0,c=!0;if(typeof e!="function")throw new TypeError(ft);return dt(n)&&(o="leading"in n?!!n.leading:o,c="trailing"in n?!!n.trailing:c),ut(e,t,{leading:o,maxWait:t,trailing:c})}var mt=_t;const vt={class:"music-bottom"},pt={class:"slider"},bt=["src"],gt={__name:"MusicBottom",setup(e){const t=z(),{isPlaying:n,musicDuration:o,src:c,musicName:u,musicList:d}=K(t);se();const r=L(null),a=L(!0),f=L(0),O=s=>{p();let l=r.value.duration*s/100;isNaN(l)||(r.value.currentTime=l.toFixed(2),_())};A(u,s=>{f.value=0,re(()=>{_()})}),A(f,s=>{s==100&&b()});const _=()=>{r.value.play(),n.value=!0},p=()=>{r.value.pause(),n.value=!1},b=()=>{a.value=!0;let s=d.value.findIndex(l=>l===u.value);s===d.value.length-1?s=0:s+=1,u.value=d.value[s]},I=mt(()=>{if(r.value&&r.value.currentTime){let s=r.value.currentTime/r.value.duration*100;if(isNaN(s))return;f.value=s,o.value=r.value.currentTime}},500),E=()=>{a.value=!1};return ae(()=>{t.getMusicInfo()}),(s,l)=>{const k=j("el-slider"),T=j("el-button");return v(),w("div",vt,[S("div",pt,[y(k,{"show-tooltip":!1,onChange:O,modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=h=>f.value=h)},null,8,["modelValue"])]),g(n)?(v(),V(T,{key:1,type:"primary",loading:a.value,onClick:p},{default:N(()=>[R("暂停")]),_:1},8,["loading"])):(v(),V(T,{key:0,type:"primary",loading:a.value,onClick:_},{default:N(()=>[R(" 播放 ")]),_:1},8,["loading"])),y(T,{type:"primary",onClick:b,disabled:a.value},{default:N(()=>[R("下一曲")]),_:1},8,["disabled"]),S("audio",{onTimeupdate:l[1]||(l[1]=(...h)=>g(I)&&g(I)(...h)),class:"playMusicAudio",onCanplay:E,src:g(c),preload:"",ref_key:"audio",ref:r},null,40,bt)])}}},yt=G(gt,[["__scopeId","data-v-f79f0d9c"]]);const Tt=e=>(ie("data-v-01ca054f"),e=e(),oe(),e),ht={class:"container-box"},xt=Tt(()=>S("div",{class:"bg-img"},null,-1)),$t={class:"music-box"},jt={class:"music-main"},St={__name:"Music",setup(e){return(t,n)=>{const o=j("router-view");return v(),w("div",ht,[xt,S("div",$t,[y(ue),S("div",jt,[y(o)]),y(yt)])])}}},Mt=G(St,[["__scopeId","data-v-01ca054f"]]);export{Mt as default};
